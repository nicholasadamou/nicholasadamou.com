---
title: "How I Turbocharged Quality with End-to-End UI Testing in IBM's CI/CD Pipeline"
date: "2023-07-01"
summary: "Learn how the integration of End-to-End (E2E) UI testing into IBM's CI/CD pipeline has enhanced quality assurance, streamlined testing processes, and improved the overall development experience."
---

## Introduction

In the fast-paced world of software development, ensuring the quality and reliability of user interfaces is critical. The integration of End-to-End (E2E) User Interface (UI) testing into IBM’s Continuous Integration/Continuous Deployment (CI/CD) pipeline was a strategic move designed to guarantee that every aspect of the UI works seamlessly before any code changes are deployed to production. This initiative was vital for maintaining a high-quality user experience, detecting UI issues early in the development process, and enhancing the speed and consistency of testing through automation.

## Business Opportunity

Before the integration of E2E UI testing, IBM’s CI/CD pipeline faced several challenges:

1. **Manual Testing Overhead**: The absence of automated UI testing led to a reliance on manual testing, which was time-consuming, prone to human error, and inconsistent.
2. **Delayed Error Detection**: UI-related issues were often detected late in the development process, leading to costly fixes post-deployment.
3. **Inconsistent Testing Practices**: Different teams had different approaches to UI testing, leading to inconsistencies in quality and user experience.
4. **Increased Risk in Production Deployments**: Without robust UI testing, there was a higher risk of UI-related issues affecting end-users after deployments.

To address these challenges, I developed a comprehensive E2E UI testing pipeline that was integrated into the IBM CIO CI/CD pipeline. This solution ensured that all aspects of the UI were tested automatically as part of the CI/CD process, providing early error detection, consistent testing practices, and reduced risk in production deployments.

## Developer Contribution

As the lead developer for this project, I was responsible for the end-to-end development of the E2E UI testing pipeline. This involved deep technical work and extensive outreach to ensure adoption and successful integration across IBM teams.

### Key Contributions:

1. **Pipeline Development**: I designed and implemented the E2E UI testing pipeline, ensuring it was seamlessly integrated with existing CI/CD processes. This pipeline supports both Java Spring Boot applications (version 3.2.x and below) and PNPM-based applications.

2. **Modular TOTP Generation System**: I developed a modular system to generate Time-Based One-Time Passwords (TOTP) for test accounts, allowing the bypassing of w3id SSO 2FA authentication. This was crucial for automating tests that required authentication, ensuring the tests could run smoothly without manual intervention.

3. **Cross-Functional Collaboration**: I worked closely with stakeholders from the CIO CI/CD pipeline team, testing teams, and core development teams. This collaboration ensured the pipeline met the needs of all stakeholders and was flexible enough to accommodate varying testing requirements while maintaining security and reliability.

4. **Technical Outreach and Adoption**: To ensure broad adoption of the E2E UI testing pipeline, I conducted extensive outreach, including presentations, blog posts, and hands-on demonstrations. These efforts were crucial in driving awareness and encouraging teams across IBM to adopt the pipeline.

### Technical Implementation

The technical implementation of the E2E UI testing pipeline was carefully designed to balance performance, flexibility, and security. Here’s a detailed breakdown:

#### Pipeline Structure

The E2E UI testing pipeline consists of several key components, each designed to be modular and flexible:

1. **Compliance Pipeline**:
   - This pipeline builds and stores the E2E UI testing image, which is based on the repository containing the Java-based testing code.
   - The image is then used in the verification-image stage of the container pipeline. This approach ensures that the testing environment is consistent and reliable across different applications.

2. **Verification Image**:
   - The image produced in the compliance pipeline is utilized for executing the E2E tests.
   - The image includes pre-installed testing browsers and other dependencies required to run the tests efficiently.
   - If a team opts not to utilize E2E UI testing, a default image is used. This default image includes minimal dependencies and outputs information encouraging teams to adopt E2E testing.

3. **Runtime Environment**:
   - To execute the E2E tests, the pipeline installs the necessary runtime in a verification container. This involves:
     - Installing browsers, Maven, and Java within the container.
     - Fetching the E2E UI testing repository and installing its dependencies.
   - The pipeline utilizes a shell script (`run_tests.sh`) that dynamically controls test selection through environmental variables such as `MVN_TEST_ARGUMENT` and `SELECTED_TEST_CASES`, allowing teams to specify which tests should run during each execution.

4. **Test Execution and Reporting**:
   - Tests are executed within the verification container, with detailed logs generated to track test execution and outcomes.
   - Results are reported back to the development teams, enabling rapid feedback and issue resolution.
   - Automated TOTP generation ensures that tests involving authentication run smoothly without manual intervention.

### Security and Stability

Ensuring the pipeline was secure and stable was a top priority:

- **Security**: The pipeline’s design adheres to IBM’s stringent security guidelines. However, the initial approach of installing software at runtime increased the attack surface and posed potential security risks. To mitigate this, I optimized the installation process and ensured that all installed software was verified and signed, maintaining the integrity of the verification container.

- **Stability**: Runtime installations can lead to performance issues, such as CPU and memory spikes. To address this, I monitored the pipeline’s performance closely and made adjustments to optimize resource usage, ensuring that the pipeline remained stable even under heavy loads.

### Challenges and Solutions

1. **Integrating Selenium with the Pipeline**:
   - One challenge was ensuring compatibility between different versions of Selenium and the browsers used for testing. For example, version 4.11.0 of Selenium for Java caused issues with the Firefox Driver but not with the Chrome Driver.
   - **Solution**: Teams were advised to use version 4.10.0 of Selenium until a fix was available. This allowed the tests to run smoothly without interruptions.

2. **Handling Large-Scale Test Execution**:
   - Running E2E tests across multiple applications and teams required a scalable solution.
   - **Solution**: The pipeline was designed to be modular, allowing teams to easily adopt and scale their testing processes. This approach ensured that the pipeline could handle large-scale test execution without compromising performance.

## Impact

The integration of E2E UI testing into IBM’s CI/CD pipeline has had a significant impact on the quality and reliability of software releases. Key outcomes include:

1. **Enhanced Quality Assurance**: The automated E2E UI tests ensure that all aspects of the UI are thoroughly tested before deployment, reducing the likelihood of UI-related issues reaching production.
2. **Improved Development Efficiency**: By automating the UI testing process, the pipeline has reduced the time and effort required for manual testing, allowing developers to focus on more strategic tasks.
3. **Increased Adoption Across Teams**: The modular and flexible design of the pipeline has led to its widespread adoption across multiple teams, each of which can tailor the pipeline to their specific needs.
4. **Positive Feedback and Recognition**: The pipeline has received positive feedback from key stakeholders, including from the Lead Developer of the Pipelines, Previous PO of the Pipelines, and Distinguished Engineer and Lead Engineer of CIO Developer Experience). Presentations and demonstrations of the pipeline have been well-received, further driving its adoption.

### Outreach and Engagement

To build awareness and drive adoption of the E2E UI testing pipeline, I engaged in extensive outreach efforts:

1. **Presentations**:
   - I presented the POC of the E2E UI testing pipeline to key stakeholders. The presentation showcased the successful implementation of the pipeline and its benefits, leading to positive feedback and further development.
   - I was also invited to present the pipeline in the DX UI Testing in the CIO CI/CD Pipelines Enablement Presentation on February 13th, 2024, as part of the CIO DX Enablement Series. The presentation was attended by over 350 developers and received great reviews.

2. **Blog Posts**:
   - I authored several blog posts to share insights and lessons learned from the development and integration of the E2E UI testing pipeline. These posts helped build eminence around the project and encouraged other teams to adopt similar practices.
   - Examples of these blog posts include:
     - "E2E UI Testing and its Role in the CI/CD Pipeline"
     - "On Autopilot - Streamlining Your Authentication with Automated 2FA E2E Testing"
     - "The Tale of Two Repositories - A Journey in End-to-End UI Testing with DevEx CI/CD"

3. **Hands-On Demonstrations**:
   - I conducted hands-on demonstrations of the E2E UI testing pipeline, showcasing its capabilities and benefits to development teams across IBM. These demonstrations were instrumental in driving adoption and ensuring that teams were comfortable using the new pipeline.

## Lessons Learned

### Early Evaluation of Feasibility

Before integrating the E2E UI testing pipeline, I thoroughly evaluated the feasibility of the approach given the current restrictions. While it was technically possible to integrate the pipeline, I recognized that the initial approach would

 negatively impact security, reliability, and flexibility. This led to the development of a more robust and flexible system.

### Importance of Modularity

Splitting the system into modular components proved to be crucial for its success. This approach allowed for better version control, easier maintenance, and greater flexibility, ultimately leading to higher adoption rates.

### Continuous Monitoring and Improvement

The known limitations of the pipeline, such as the Selenium version compatibility issue and runtime performance challenges, highlighted the importance of continuous monitoring and improvement. Addressing these issues promptly ensures that the pipeline remains effective and reliable.

## Conclusion

Integrating E2E UI testing into IBM’s CI/CD pipeline has been a transformative initiative that has significantly enhanced the quality and reliability of software releases. By ensuring that every aspect of the UI is thoroughly tested before deployment, the pipeline aligns with IBM’s commitment to delivering exceptional and consistent user experiences.

The lessons learned from this project, including the importance of feasibility evaluation, modularity, and continuous improvement, will guide future developments in CI/CD processes at IBM. This experience has reinforced the value of early error detection, automation, and collaboration in delivering high-quality software solutions.
